import React, {useEffect} from 'react';
import { useForm } from 'react-hook-form';
import { useAuth } from '../context/AuthContext'
import {MdOutlineKeyboardArrowRight} from "react-icons/md";

const PasswordReset = () => {
    const {passwordResetEmail, authError} = useAuth()
    const {register, handleSubmit,  formState: { errors }, setValue} = useForm();

    const onSubmit = handleSubmit(async (data) => {
      passwordResetEmail(data)
      console.log(data)
      setValue('email','')
      alert('We have e-mailed your password reset link!')
    })
  return (
    <div className="flex w-full justify-center px-3 py-20 h-screen " >
    <div className='bg-zinc-600 max-w-md w-full p-10 rounded-md'>
      <h1 className='text-4xl font-bold text-white'>Password Reset</h1>
      <p className='text-white'>Type your e-mail below</p>
      <form className="mt-10" onSubmit={onSubmit}>
        {errors.username && <p className='text-red-500'>username is required</p>}
        <input
        className='w-full bg-zinc-500 text-white px-4 py-2 rounded-md my-2'
        type="email" 
        {...register("email", { required: true })}
        placeholder='Email'
        />
        {errors.email && <p className='text-red-500'>email is required</p>}
        <button className='text-white w-fit px-6 py-3
                my-2 flex items-center rounded-md bg-gradient-to-r from-sky-600 via-sky-400 to-sky-300 cursor-pointer'>
                  Reset Password
                  <span className='group-hover:rotate-90 duration-300'>
                    <MdOutlineKeyboardArrowRight size={25} className="ml-1 "/>
                  </span>
          </button>
      </form>
    </div>
  </div>
  );
};

export default PasswordReset;