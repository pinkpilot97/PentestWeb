
import React from 'react';
import {useAdmin} from '../context/AdminContext'
import { Link } from 'react-router-dom';
function UsersTab(props) {
    const user = props.user;
    const {deleteUserReq} = useAdmin()
  
    return (
      <tr className='text-slate-400 '>
        <td className='border border-gray-400 p-10'>{user.username}</td>
        <td className='border border-gray-400 p-10'>{user.email}</td>
        <td className='border border-gray-400 p-10'>{user.role}</td>
        <td className='border border-gray-400 p-2'>
          <Link to={`/admin/users/${user._id}`}>
            <button  className='text-white w-fit px-6 py-3
                    my-2 flex items-center rounded-md bg-gradient-to-r from-sky-600 via-sky-400 to-sky-300 cursor-pointer'>
                      Edit
            </button>
          </Link>
            <button onClick={() => {
              deleteUserReq(user)
            }} className='text-white px-6 py-3
                    my-2 flex items-center rounded-md bg-gradient-to-r from-sky-600 via-sky-400 to-sky-300 '>
                      Delete
            </button>
        </td>
      </tr>
    );
  }
  
  function UserTable(props) {
    const user = props.users;
  
    return (
      <div className='flex justify-center items-center wfull p-10'>
        <table className="border-collapse border border-gray-400 w-80 rounded-lg w-80">
          <thead className=''>
            <tr>
              <th className='border border-gray-400 p-2'>Username</th>
              <th className='border border-gray-400 p-2'>Email</th>
              <th className='border border-gray-400 p-2'>Role</th>
              <th className='border border-gray-400 p-2'>Actions</th>
            </tr>
          </thead>
          <tbody>
            {user.map((user, index) => (
              <UsersTab user={user} key={index} />
            ))}
          </tbody>
        </table>
      </div>
    );
  }
  
  export default UserTable;