
import React from 'react';
import { useCutomer } from '../context/CustomerContext'
import { Link } from 'react-router-dom';

function CustomersTab(props) {
    const customer = props.customer;
    const {deleteCustomerReq, exportData} = useCutomer()
  
    return (
      <tr className='text-slate-400 '>
        <td className='border border-gray-400 p-10'>{customer.fname}</td>
        <td className='border border-gray-400 p-10'>{customer.lname}</td>
        <td className='border border-gray-400 p-10'>{customer.email}</td>
        <td className='border border-gray-400 p-10'>Pending</td>
        <td className='border border-gray-400 p-2'>
        <button onClick={() => {
              exportData(customer.email)
            }} className='text-white px-6 py-3
                    my-2 flex items-center rounded-md bg-gradient-to-r from-sky-600 via-sky-400 to-sky-300 '>
                      export
            </button>
        </td>
        <td className='border border-gray-400 p-2'>
          <Link to={`/loans/${customer._id}`}>
            <button  className='text-white w-fit px-6 py-3
                    my-2 flex items-center rounded-md bg-gradient-to-r from-sky-600 via-sky-400 to-sky-300 cursor-pointer'>
                      Edit
            </button>
          </Link>
            <button onClick={() => {
              deleteCustomerReq(customer)
            }} className='text-white px-6 py-3
                    my-2 flex items-center rounded-md bg-gradient-to-r from-sky-600 via-sky-400 to-sky-300 '>
                      Delete
            </button>
        </td>
      </tr>
    );
  }
  
  function CustomerTable(props) {
    const customers = props.customers;
  
    return (
      <div className='flex justify-center items-center wfull p-10'>
        <table className="border-collapse border border-gray-400 w-80 rounded-lg w-80">
          <thead className=''>
            <tr>
              <th className='border border-gray-400 p-2'>First Name</th>
              <th className='border border-gray-400 p-2'>Last Name</th>
              <th className='border border-gray-400 p-2'>Email</th>
              <th className='border border-gray-400 p-2'>Status</th>
              <th className='border border-gray-400 p-2'>Export</th>
              <th className='border border-gray-400 p-2'>Actions</th>
            </tr>
          </thead>
          <tbody>
            {customers.map((customer, index) => (
              <CustomersTab customer={customer} key={index} />
            ))}
          </tbody>
        </table>
      </div>
    );
  }
  
  export default CustomerTable;